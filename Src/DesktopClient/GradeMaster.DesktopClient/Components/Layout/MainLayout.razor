@inherits LayoutComponentBase

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <div class="top-row px-4" style="z-index: 10;">
            @* <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">Options</a> *@
            <!--for loading initially-->
            <ThemeSwitcher Style="visibility: hidden;" />
            <Button Color="ButtonColor.Link" Style="padding-right: 3px; padding-left: 3px;" @onclick="OnShowOffcanvasClick">Options</Button>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

<Offcanvas @ref="_offcanvas"
           title="Options">
    <BodyTemplate>
        <NavLink class="btn btn-translucient offcanvas-button-link border-dark-subtle" style="margin-top: 0" href="info" @onclick="OnHideOffcanvasClick"><Icon Name="IconName.InfoCircle" /> Info</NavLink>
        @* <div class="border-top" style="width: 100%;"></div> *@
        <NavLink class="btn btn-translucient offcanvas-button-link border-dark-subtle" href="faq" @onclick="OnHideOffcanvasClick"><Icon Name="IconName.QuestionCircle" /> FAQ</NavLink>
        @* <div class="border-top" style="width: 100%;"></div> *@
        <NavLink class="btn btn-translucient offcanvas-button-link border-dark-subtle" href="licenses" @onclick="OnHideOffcanvasClick"><Icon Name="IconName.FileEarmarkText" /> Licences</NavLink>
    </BodyTemplate>
    <FooterTemplate>
        <NavLink class="btn btn-translucient offcanvas-button-link border-dark-subtle" style="margin-bottom: 0" href="settings" @onclick="OnHideOffcanvasClick"><Icon Name="IconName.Gear" /> Settings</NavLink>
    </FooterTemplate>
</Offcanvas>

<Toasts class="p-3" Placement="ToastsPlacement.TopRight" StackLength="2" AutoHide="true" />

@code {
     private Offcanvas _offcanvas = default!;

     private async Task OnShowOffcanvasClick() => await _offcanvas.ShowAsync();

     private async Task OnHideOffcanvasClick() => await _offcanvas.HideAsync();
}
